{"version":3,"sources":["../src/background.ts"],"sourcesContent":["chrome.runtime.onInstalled.addListener(() => {\n  chrome.action.setBadgeText({ text: \"OFF\" });\n});\n\nconst gmailUrl = \"https://mail.google.com/\";\n\nchrome.action.onClicked.addListener(async (tab) => {\n  if (!tab.url) return;\n\n  if (tab.url.startsWith(gmailUrl)) {\n    const prevState = await chrome.action.getBadgeText({ tabId: tab.id });\n    const nextState = prevState === \"ON\" ? \"OFF\" : \"ON\";\n\n    await chrome.action.setBadgeText({ tabId: tab.id, text: nextState });\n\n    if (nextState === \"ON\") {\n      await chrome.scripting.insertCSS({\n        files: [\"focus-mode.css\"],\n        target: { tabId: tab.id! },\n      });\n\n      await chrome.scripting.executeScript({\n        target: { tabId: tab.id! },\n        files: [\"scripts/content.js\"],\n      });\n    } else {\n      await chrome.scripting.removeCSS({\n        files: [\"focus-mode.css\"],\n        target: { tabId: tab.id! },\n      });\n      chrome.tabs.sendMessage(tab.id!, { action: \"cleanup\" });\n    }\n  }\n});\n"],"mappings":";;;AAAA,SAAO,QAAQ,YAAY,YAAY,MAAM;AAC3C,WAAO,OAAO,aAAa,EAAE,MAAM,MAAM,CAAC;AAAA,EAC5C,CAAC;AAED,MAAM,WAAW;AAEjB,SAAO,OAAO,UAAU,YAAY,OAAO,QAAQ;AACjD,QAAI,CAAC,IAAI,IAAK;AAEd,QAAI,IAAI,IAAI,WAAW,QAAQ,GAAG;AAChC,YAAM,YAAY,MAAM,OAAO,OAAO,aAAa,EAAE,OAAO,IAAI,GAAG,CAAC;AACpE,YAAM,YAAY,cAAc,OAAO,QAAQ;AAE/C,YAAM,OAAO,OAAO,aAAa,EAAE,OAAO,IAAI,IAAI,MAAM,UAAU,CAAC;AAEnE,UAAI,cAAc,MAAM;AACtB,cAAM,OAAO,UAAU,UAAU;AAAA,UAC/B,OAAO,CAAC,gBAAgB;AAAA,UACxB,QAAQ,EAAE,OAAO,IAAI,GAAI;AAAA,QAC3B,CAAC;AAED,cAAM,OAAO,UAAU,cAAc;AAAA,UACnC,QAAQ,EAAE,OAAO,IAAI,GAAI;AAAA,UACzB,OAAO,CAAC,oBAAoB;AAAA,QAC9B,CAAC;AAAA,MACH,OAAO;AACL,cAAM,OAAO,UAAU,UAAU;AAAA,UAC/B,OAAO,CAAC,gBAAgB;AAAA,UACxB,QAAQ,EAAE,OAAO,IAAI,GAAI;AAAA,QAC3B,CAAC;AACD,eAAO,KAAK,YAAY,IAAI,IAAK,EAAE,QAAQ,UAAU,CAAC;AAAA,MACxD;AAAA,IACF;AAAA,EACF,CAAC;","names":[]}